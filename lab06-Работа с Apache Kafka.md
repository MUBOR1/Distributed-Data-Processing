# –û—Ç—á–µ—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ ‚Ññ6 "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Apache Kafka"

## 1. –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Apache Kafka, –≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—é—Å–µ—Ä–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ –∏ –∫–æ–Ω—Å—å—é–º–µ—Ä–∞ –¥–ª—è –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏.

## 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- ***Apache Kafka*** (–±—Ä–æ–∫–µ—Ä: localhost:9092)

- ***Python 3*** —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π kafka-python

- ***–¢–æ–ø–∏–∫ Kafka***: kafka-logs (3 –ø–∞—Ä—Ç–∏—Ü–∏–∏)

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Producer     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Kafka     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ    Consumer     ‚îÇ
‚îÇ  (producer.py)  ‚îÇ     ‚îÇ   Broker    ‚îÇ     ‚îÇ  (consumer.py)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                      ‚îÇ                      ‚îÇ
   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤       –¢–æ–ø–∏–∫: kafka-logs     –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤
                                                 (–æ—Å–æ–±–µ–Ω–Ω–æ ERROR)
```
## 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
### 4.1 Producer (producer.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Kafka.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Kafka –±—Ä–æ–∫–µ—Ä—É
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π (INFO, WARNING, DEBUG, ERROR)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–∞—Ä—Ç–∏—Ü–∏—è–º (0, 1, 2)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

#### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ producer:
```
[0] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –ª–æ–≥: INFO | –°–µ—Ä–≤–∏—Å: auth-service | –°–æ–æ–±—â–µ–Ω–∏–µ: Session expired... | –ü–∞—Ä—Ç–∏—Ü–∏—è: 2
[1] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –ª–æ–≥: WARNING | –°–µ—Ä–≤–∏—Å: auth-service | –°–æ–æ–±—â–µ–Ω–∏–µ: File upload completed... | –ü–∞—Ä—Ç–∏—Ü–∏—è: 1
...
[18] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –ª–æ–≥: INFO | –°–µ—Ä–≤–∏—Å: api-gateway | –°–æ–æ–±—â–µ–Ω–∏–µ: User login successful... | –ü–∞—Ä—Ç–∏—Ü–∏—è: 0
```

### 4.2 Consumer (consumer.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ß—Ç–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤ –∏–∑ Kafka.
**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ç–æ–ø–∏–∫—É kafka-logs
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Consumer Group log-processor-group
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ ERROR-–ª–æ–≥–æ–≤
- –í—ã–≤–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

#### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ consumer:
```
1. –ü–æ–ª—É—á–µ–Ω –ª–æ–≥ #3: ERROR | database | Resource not found...
    –í–ù–ò–ú–ê–ù–ò–ï: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–µ database
    –°–æ–æ–±—â–µ–Ω–∏–µ: Resource not found
    –í—Ä–µ–º—è: 2025-12-26T18:47:29.190610
    IP: 192.168.69.33
```
## 5. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
### 5.1 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö/–ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|------------|------------|
| –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–æ–≥–æ–≤ | 19 |
| –ü–æ–ª—É—á–µ–Ω–æ –ª–æ–≥–æ–≤ | 19 |
| ERROR-–ª–æ–≥–æ–≤ | 3 |
| WARNING-–ª–æ–≥–æ–≤ | 3 |
| INFO-–ª–æ–≥–æ–≤ | 5 |
| DEBUG-–ª–æ–≥–æ–≤ | 8 |

### 5.2 –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–∞—Ä—Ç–∏—Ü–∏—è–º
| –ü–∞—Ä—Ç–∏—Ü–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ |
|----------|------------------|
| 0        | 5 —Å–æ–æ–±—â–µ–Ω–∏–π      |
| 1        | 5 —Å–æ–æ–±—â–µ–Ω–∏–π      |
| 2        | 9 —Å–æ–æ–±—â–µ–Ω–∏–π      |

### 5.3 –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º
| –°–µ—Ä–≤–∏—Å          | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ |
|-----------------|------------------|
| database        | 6                |
| api-gateway     | 5                |
| auth-service    | 5                |
| payment-service | 3                |
| web-server      | 1                |

## 6. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
### 6.1 –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤
**–ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É:**

```
–£–†–û–í–ï–ù–¨_–õ–û–ì–ê | –°–ï–†–í–ò–° | –°–û–û–ë–©–ï–ù–ò–ï
```
–ü—Ä–∏–º–µ—Ä: ***ERROR | database | Resource not found...***

### 6.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ ERROR-–ª–æ–≥–æ–≤
**Consumer –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç ERROR-–ª–æ–≥–∏ –∏ –≤—ã–≤–æ–¥–∏—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**
- –°–µ—Ä–≤–∏—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
- –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
- IP-–∞–¥—Ä–µ—Å (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### 6.3 –†–∞–±–æ—Ç–∞ —Å –ø–∞—Ä—Ç–∏—Ü–∏—è–º–∏
**Producer –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–∞—Ä—Ç–∏—Ü–∏—è–º, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:**
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É –Ω–∞–≥—Ä—É–∑–∫–∏
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
- –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

### 7.  –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
![–°–∫—Ä–∏–Ω—à–æ—Ç 1: –ó–∞–ø—É—Å–∫ consumer –∏ –æ–∂–∏–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π](./image/lb6consumerstart.png)

üì∑ *[–°–∫—Ä–∏–Ω—à–æ—Ç 1: –ó–∞–ø—É—Å–∫ consumer –∏ –æ–∂–∏–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π]*

![–°–∫—Ä–∏–Ω—à–æ—Ç 2: –ó–∞–ø—É—Å–∫ producer –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤](./image/lb6producerstart.png)

üì∑ *[–°–∫—Ä–∏–Ω—à–æ—Ç 2: –ó–∞–ø—É—Å–∫ producer –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤]*


## 9. –í—ã–≤–æ–¥—ã
1. **–°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:** –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã producer –∏ consumer –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Kafka.

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:** –õ–æ–≥–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–∏—Ü–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** Kafka –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –¥–∞–∂–µ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö.

5. **–ì–∏–±–∫–æ—Å—Ç—å:** –°–∏—Å—Ç–µ–º–∞ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –ª–æ–≥–æ–≤.